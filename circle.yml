# circle.yml

machine:
  timezone:
    America/New_York
  ruby:
    version: 2.4.0

dependencies:
  pre:
    - gem install bundler
    - gem install middleman-cli

checkout:
  post:
    - bundle install

compile:
  override:
    - bundle exec middleman build

deployment:
  build:
    branch: source
    commands:
      - git config user.email $GIT_USER_EMAIL
      - git config user.name $GIT_USER_NAME
      - bundle exec middleman deploy --verbose

# Skip Tests
test:
  override:
    - "true"
